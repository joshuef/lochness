{"version":3,"sources":["../lib/generateConfig.js"],"names":["pwd","process","cwd","generateConfig","options","envConfig","env","configToUse","Object","assign","distFiles","resolve","componentsDist","srcFiles","componentsSrc","jsonDefaults","showcasePropsJson","componentStyles","info","data","HtmlWebpackPlugin","require","HtmlWebpackHarddiskPlugin","html","title","template","__dirname","filename","alwaysWriteToDisk","files","css","js","hdHelper","plugins","push","alias","displayComponentsSrc","displayComponentsDefaults"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAMC,QAAQC,GAAR,EAAZ;;AAEA,IAAMC,iBAAiB,SAAjBA,cAAiB,CAAEC,OAAF,EACvB;AACI,QAAMC,YAAY,uBAAWD,QAAQE,GAAnB,CAAlB;AACA,QAAMC,cAAcC,OAAOC,MAAP,CAAe,EAAf,EAAmBJ,SAAnB,CAApB;;AAEA,QAAMK,YAAY,eAAKC,OAAL,CAAcX,GAAd,EAAmBI,QAAQQ,cAA3B,CAAlB;AACA,QAAMC,WAAW,eAAKF,OAAL,CAAcX,GAAd,EAAmBI,QAAQU,aAA3B,CAAjB;AACA,QAAMC,eAAe,eAAKJ,OAAL,CAAcX,GAAd,EAAmBI,QAAQY,iBAA3B,CAArB;AACA,QAAMC,kBAAkB,eAAKN,OAAL,CAAcD,SAAd,EAAyB,YAAzB,CAAxB;;AAEA,qBAAOQ,IAAP,CAAa,0CAAb;AACA,qBAAOA,IAAP,CAAa,0CAAb;AACA,qBAAOA,IAAP,CAAa,0CAAb;AACA,qBAAOC,IAAP,CAAa,QAAb;;AAEA,qBAAOA,IAAP,CAAa,QAAb,EAAuBT,SAAvB;AACA,qBAAOS,IAAP,CAAa,OAAb,EAAsBN,QAAtB;AACA,qBAAOM,IAAP,CAAa,YAAb,EAA2BJ,YAA3B;AACA,qBAAOI,IAAP,CAAa,OAAb,EAAsBF,eAAtB;;AAEA,qBAAOC,IAAP,2CAAqDd,QAAQQ,cAA7D;;AAGA,QAAMQ,oBAAoBC,QAAS,qBAAT,CAA1B;AACA,QAAMC,4BAA4BD,QAAQ,8BAAR,CAAlC;;AAEA,QAAIE,OAAO,IAAIH,iBAAJ,CACP;AACII,eAAW,yBADf;AAEIC,kBAAWC,YAAY,sBAF3B;AAGIC,kBAAW,eAHf;AAIIC,2BAAmB,IAJvB;AAKIC,eAAW;AACPC,iBAAM,CAAE,WAAF,CADC;AAEPC,gBAAM,CAAE,QAAF;AAFC;AALf,KADO,CAAX;;AAaA,QAAIC,WAAW,IAAIV,yBAAJ,EAAf;;AAEAf,gBAAY0B,OAAZ,CAAoBC,IAApB,CAA0BX,IAA1B;AACAhB,gBAAY0B,OAAZ,CAAoBC,IAApB,CAA0BF,QAA1B;;AAEA;AACAzB,gBAAYI,OAAZ,CAAoBwB,KAApB,CAA0BC,oBAA1B,GAA0DvB,QAA1D;AACAN,gBAAYI,OAAZ,CAAoBwB,KAApB,CAA0BE,yBAA1B,GAA0DtB,YAA1D;;AAEA,WAAOR,WAAP;AACH,CAjDD;;kBAmDeJ,c","file":"generateConfig.js","sourcesContent":["import path                from 'path';\nimport logger              from './logger';\nimport getConfig           from '../webpack.config';\n\nconst pwd = process.cwd();\n\nconst generateConfig = ( options ) =>\n{\n    const envConfig = getConfig( options.env );\n    const configToUse = Object.assign( {}, envConfig );\n\n    const distFiles = path.resolve( pwd, options.componentsDist );\n    const srcFiles = path.resolve( pwd, options.componentsSrc );\n    const jsonDefaults = path.resolve( pwd, options.showcasePropsJson );\n    const componentStyles = path.resolve( distFiles, 'styles.css' );\n\n    logger.info( '****************************************')\n    logger.info( '*****  Generating Lochness Config  *****')\n    logger.info( '****************************************')\n    logger.data( 'Using:')\n\n    logger.data( 'dist: ', distFiles );\n    logger.data( 'src: ', srcFiles );\n    logger.data( 'defaults: ', jsonDefaults );\n    logger.data( 'css: ', componentStyles );\n\n    logger.info( `Lochness Serving Display Components: ${options.componentsDist}` );\n\n\n    const HtmlWebpackPlugin = require( 'html-webpack-plugin' );\n    const HtmlWebpackHarddiskPlugin = require('html-webpack-harddisk-plugin');\n\n    let html = new HtmlWebpackPlugin(\n        {\n            title    : 'Lochness: Check your UI',\n            template : __dirname + '/../src/template.ejs',\n            filename : '../index.html',\n            alwaysWriteToDisk: true,\n            files    : {\n                css : [ 'style.css' ],\n                js  : [ 'app.js' ]\n            }\n        }\n    );\n\n    let hdHelper = new HtmlWebpackHarddiskPlugin()\n\n    configToUse.plugins.push( html );\n    configToUse.plugins.push( hdHelper );\n\n    //assume styles.css location for now\n    configToUse.resolve.alias.displayComponentsSrc          = srcFiles;\n    configToUse.resolve.alias.displayComponentsDefaults     = jsonDefaults;\n\n    return configToUse;\n};\n\nexport default generateConfig;\n"]}